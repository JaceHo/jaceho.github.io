---
layout: post
status: publish
published: true
title: 简单成绩管理系统
author:
  display_name: hippo
  login: admin
  email: kimiscircle@gmail.com
  url: http://blog.futureme.info
author_login: admin
author_email: kimiscircle@gmail.com
author_url: http://blog.futureme.info
wordpress_id: 41
wordpress_url: http://localhost/?p=37
date: '2012-06-02 23:01:21 +0800'
date_gmt: '2012-06-02 23:01:21 +0800'
categories:
- c&amp;c++
tags:
- c
- 成绩管理
comments: []
---
<div id="BlogArticleDetail" style="font-size: 14px;">                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 终于完成了，只用了结构体和指针，没有用到文件操作。还是很让自己欣慰得额。。。<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 由于以前没有写过包含几个c源文件得程序，其中在定义头文件还卡壳了，查了一些例子，发觉main()也和其他函数用法差不多，只不过是最外层的嵌套函数罢了。<br &#47;>&#47;&#47;main.c<br &#47;><br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include"func.h"<br &#47;>#include<stdio.h><br &#47;>#include<stdlib.h><br &#47;>int main (int argc, char const* argv[]) {<br &#47;>&nbsp;&nbsp;&nbsp; int n;<br &#47;>&nbsp;&nbsp;&nbsp; pstu p=NULL,tmp=NULL;<br &#47;>&nbsp;&nbsp;&nbsp; char choice;<br &#47;>&nbsp;&nbsp;&nbsp; char buf[20];<br &#47;>&nbsp;&nbsp;&nbsp; printmenu();<br &#47;>&nbsp;&nbsp;&nbsp; for(;;)<br &#47;>&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp; scanf("%c",&amp;choice);<br &#47;>&nbsp;&nbsp;&nbsp; switch (choice)<br &#47;>&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'q':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '0':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printmenu();<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '1':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("请输入学生的个数：n");<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%d",&amp;n);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p=input(n);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '2':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("请输入姓名：n");<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%s",buf);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp=searchbyname(buf,n,p);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output(tmp);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '3':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("请输入学号：n");<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%s",buf);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp=searchbynumber(buf,n,p);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output(tmp);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '4':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sortbynumber(n,p);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case '5':<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sortbygrades(n,p);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default:<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; puts("请选择！(0返回主菜单菜单,q结束)n");<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br &#47;>&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp; free(p);<br &#47;>&nbsp;&nbsp;&nbsp; p=NULL;<br &#47;>}<br &#47;><br &#47;>&#47;&#47;func.c<br &#47;>#include"func.h"<br &#47;>#include<stdio.h><br &#47;>#include<stdlib.h><br &#47;>#include<string.h><br &#47;>pstu input(int n)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; int i=0;<br &#47;>&nbsp;&nbsp;&nbsp; pstu p=(pstu)malloc(n*sizeof(stu));<br &#47;>&nbsp;&nbsp;&nbsp; pstu tmp=p;<br &#47;>&nbsp;&nbsp;&nbsp; while(n--)<br &#47;>&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("请输入第%d个学生的信息(姓名,学号,分数) 空格隔开！n",++i);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%s%s%d",p->name,p->num,&amp;p->math);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p++;<br &#47;>&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp; return tmp;<br &#47;>}<br &#47;>void output(stu *mem)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("姓名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 学号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数学成绩n");<br &#47;>&nbsp;&nbsp;&nbsp; printf("%-10s&nbsp;&nbsp;&nbsp; %-10s&nbsp;&nbsp;&nbsp; %-10dn",mem->name,mem->num,mem->math);<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>}<br &#47;>pstu searchbyname(char *str,int n,pstu start)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; int i;<br &#47;>&nbsp;&nbsp;&nbsp; pstu tmp=start;<br &#47;>&nbsp;&nbsp;&nbsp; for(i=0;i<n;i++)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!strncmp(str,start++->name,20))<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return start-1;<br &#47;>&nbsp;&nbsp;&nbsp; printf("error!name did not exist!n");<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return tmp;<br &#47;>}<br &#47;>pstu searchbynumber(char *str,int n,pstu start)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; int i;<br &#47;>&nbsp;&nbsp;&nbsp; pstu tmp=start;<br &#47;>&nbsp;&nbsp;&nbsp; for(i=0;i<n;i++)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!strncmp(start++->num,str,10))<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return start-1;<br &#47;>&nbsp;&nbsp;&nbsp; printf("error!number did not exist!n");<br &#47;>&nbsp;&nbsp;&nbsp; return tmp;<br &#47;>}<br &#47;>void sortbygrades(int n,pstu p)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; int i,j,k,tmp=0,mark[20];<br &#47;>&nbsp;&nbsp;&nbsp; memset(mark,0,sizeof(mark));<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("姓名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 学号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数学成绩n");<br &#47;>&nbsp;&nbsp;&nbsp; for(k=0;k<n;k++)<br &#47;>&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp=0;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i<n;i++)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if((p+i)->math>tmp&amp;&amp;mark[i]==0)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp=(p+i)->math;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j=i;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mark[j]=1;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%-10s&nbsp;&nbsp;&nbsp; %-10s&nbsp;&nbsp;&nbsp; %-10dn",(p+j)->name,(p+j)->num,(p+j)->math);<br &#47;>&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>}<br &#47;>void sortbynumber(int n,pstu p)<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; int i,j,k,mark[20];<br &#47;>&nbsp;&nbsp;&nbsp; char buf[10];<br &#47;>&nbsp;&nbsp;&nbsp; memset(mark,0,sizeof(mark));<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("姓名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 学号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数学成绩n");<br &#47;>&nbsp;&nbsp;&nbsp; for(k=0;k<n;k++)<br &#47;>&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(buf,'9',sizeof(buf));<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i<n;i++)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(strncmp((p+i)->num,buf,10)<0&amp;&amp;mark[i]==0)<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy(buf,(p+i)->num);<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j=i;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mark[j]=1;<br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%-10s&nbsp;&nbsp;&nbsp; %-10s&nbsp;&nbsp;&nbsp; %-10dn",(p+j)->name,(p+j)->num,(p+j)->math);<br &#47;>&nbsp;&nbsp;&nbsp; }<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>}<br &#47;>void printmenu()<br &#47;>{<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("tt欢迎进入学生成绩管理系统！n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("请选择菜单：n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t1.输入学生信息n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t2.按姓名查找n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t3.按学号查找n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t4.按学号排序n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t5.按成绩排序n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("t0.返回本菜单n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("tq.退出n");<br &#47;>&nbsp;&nbsp;&nbsp; puts("=======================================n");<br &#47;>}<br &#47;><br &#47;>&#47;&#47;func.h<br &#47;>#ifndef FUNC_H<br &#47;>#define FUNC_H<br &#47;>typedef struct stu{<br &#47;>&nbsp;&nbsp;&nbsp; char name[20];<br &#47;>&nbsp;&nbsp;&nbsp; char num[10];<br &#47;>&nbsp;&nbsp;&nbsp; int math;<br &#47;><br &#47;>}*pstu,stu;<br &#47;>pstu input();<br &#47;>void output(stu *mem);<br &#47;>pstu searchbyname(char *s,int n,pstu start);<br &#47;>pstu searchbynumber(char *s,int n,pstu start);<br &#47;>void sortbynumber(int n,pstu p);<br &#47;>void sortbygrades(int n,pstu p);<br &#47;>void printmenu();<br &#47;>#endif<br &#47;><br &#47;><br &#47;><br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br &#47;>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br &#47;><&#47;div></p>
