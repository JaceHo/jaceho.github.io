---
layout: post
status: publish
published: true
title: man or boy test!是男人就得-67
author:
  display_name: hippo
  login: admin
  email: kimiscircle@gmail.com
  url: http://blog.futureme.info
author_login: admin
author_email: kimiscircle@gmail.com
author_url: http://blog.futureme.info
wordpress_id: 48
wordpress_url: http://localhost/?p=44
date: '2012-04-25 23:25:51 +0800'
date_gmt: '2012-04-25 23:25:51 +0800'
categories:
- 感悟
- 算法
tags:
- algorithms
- man
- boy
comments:
- id: 2192
  author: integrated
  author_email: oicutioa99@gmail.com
  author_url: http://www.fork333.info
  date: '2013-06-10 12:03:15 +0800'
  date_gmt: '2013-06-10 16:03:15 +0800'
  content: I needed to put you a very little observation so as to give many thanks
    again for the lovely secrets you've shown above. It was simply strangely open-handed
    of people like you to offer unhampered what exactly numerous people would have
    distributed as an e-book to make some bucks for their own end, notably now that
    you might well have tried it if you decided. Those ideas in addition acted to
    provide a great way to comprehend someone else have the same eagerness the same
    as my personal own to figure out more with reference to this matter. I know there
    are lots of more enjoyable instances ahead for folks who browse through your blog.
---
<div>
<div style="font-size: 14px;">
<div>
<div>
<h1><a rel="nofollow" href="http:&#47;&#47;www-cs-faculty.stanford.edu&#47;%7Eknuth&#47;index.html">计算机鼻祖<&#47;a>撰写20世纪最重要物理学著作(图)<&#47;h1>
<p> <span><a rel="nofollow" href="http:&#47;&#47;wwv.renren.com&#47;xn.do?ss=10791&amp;rt=1">http:&#47;&#47;www.sina.com.cn<&#47;a><&#47;span> <span><&#47;span>&nbsp; <span><a rel="nofollow" href="http:&#47;&#47;wwv.renren.com&#47;xn.do?ss=10791&amp;rt=1">新京报<br &#47;> <&#47;a><&#47;span><&#47;p>
<p> <&#47;p>
<p> <img title=" mea or boy test!是男人就得-67 - hejieL - hejiek的博客" src="http:&#47;&#47;img.bimg.126.net&#47;photo&#47;2nzT1O5gT7rFpt1eSBqp6A==&#47;5735615600433522099.gif" alt="计算机鼻祖撰写20世纪最重要物理学著作(图)" &#47;><&#47;p>
<p> <br &#47;> <&#47;p>
<p> <&#47;p>
<p> <img title=" mea or boy test!是男人就得-67 - hejieL - hejiek的博客" src="http:&#47;&#47;img.ph.126.net&#47;nH9NTxIQ_0-tOMcAU591uQ==&#47;3755439139273980848.jpg" alt="高德纳设置了一个悬赏游戏。如果有人挑出了他编写的TEX程序的错误，他就给挑错者奖励。第一个错误值2.56美元，第二个值5.12美元，第三个值10.24美元。据说，这张10.24美元的支票是他迄今为止为此签出的最后一张。" &#47;><&#47;p>
<p>高德纳设置了一个悬赏游戏。<font style="color: rgb(51, 51, 0);" color="#ff0000">如果有人挑出了他编写《the art of the computer》的排版错误，他就给挑错者奖励。第一个错误值2.56美元，第二个值5.12美元，第三个值10.24美元。<&#47;font>据说，这张10.24美元的支票是他迄今为止为此签出的最后一张。而这也是他途中停笔10年，放弃word排版，开发Tex的原因之一。<&#47;p>
<p>　 　高德纳是美国计算机科学家唐纳德&middot;克努斯(Donald  Knuth)的中文名。这位&ldquo;现代计算机科学的鼻祖&rdquo;是计算机界的传奇人物。他在年仅36岁时就获得了图灵奖，成为该奖历史上最年轻的获奖者。他的获奖作 品《计算机程序设计艺术》原计划出七卷，至今才出到第四卷。尽管如此，它依然与爱因斯坦的《相对论》、狄拉克的《量子力学》、费曼的《量子电动力学》等并 列，被《科学美国人》杂志评选为20世纪最重要的12本物理学著作之一。<&#47;p>
<p>　　<strong>早期经历：&ldquo;是男人就得-67&rdquo;<&#47;strong> <&#47;p>
<p>　 　1938年高德纳出生于美国密尔沃基。他的超凡智力在8岁时就显示出来了。当时，一家糖果商在孩子们当中举办了一项有趣的比赛，要求用 &ldquo;Ziegler&rsquo;s Giant  Bar&rdquo;里面的字母，写出尽可能多的单词。裁判事先准备了一份2500个单词的列表，可小高德纳令人惊讶地写出了4500多个单词。他为学校赢得一台电视 机，还为每个同学赢得一根棒棒糖。他的赛后感言是，我还能写出更多。<&#47;p>
<p>　　高德纳就读的大学是凯斯理工学院。1956年，他在这里第 一次使用了IBM650，并开始学习编程。不久之后，高德纳就对编程有了许多体会。当时高德纳还兼职管理学校的篮球队，于是他编写了一个程序，能够自动评 估每名球员的价值，令球队的教练非常欣赏，还引来了CBS电视台。后来高德纳、球队教练和IBM650的合影还被印到了IBM650的宣传册上。1960 年，高德纳以公认出色的成就，打破了学校的惯例，同时获得了学士和硕士两个学位。<&#47;p>
<p>　　随后，高德纳进入伯克利攻读数学博士学位。在 此期间，他的编程生涯也正式开始了。他当时所写的程序中最值得一提的，是对ALGOL60编译器提出的测试方法。ALGOL60经常会因为编译器不成熟而 出故障。高德纳编写了一段非常简单的测试程序，江湖人称&ldquo;Man or boy  test&rdquo;，翻译成中文就是&ldquo;是男人就得-67&rdquo;。高德纳说，只要用ALGOL60编译器来编译我的这段程序，如果运行结果等于-67，就说明这个编译器 是纯爷们儿。<&#47;p>
<p>　　<strong>获图灵奖：盖茨为他&ldquo;做推广<&#47;strong>&rdquo;<&#47;p>
<p>　　1963年，25岁 的高德纳拿到了博士学位，并留在伯克利任教。在毕业前一年，高德纳已经因为设计编译器而响誉计算机行业。著名的Addison-Wesley出版社向他约 稿，请他写一本关于编译器和程序设计方面的书。这本来是很平常的一件事，但不久之后，他就把这件事做成了计算机科学史上的奇观。1962年约的稿，高德纳 一直写到1966年还没交。编辑急了，找到高德纳，说这都4年了你写了多少啊。高德纳说，才写3000页手稿。编辑大囧，忙问都这么长了怎么不交稿？答 曰，我还没写到正题呢。编辑崩溃了，说那你出个多卷本吧&hellip;&hellip;<&#47;p>
<p>　　把一件平常的事做到人间极致，这就是高德纳。他不是故弄玄虚，他的 心里攒着一股劲儿，要写一部与牛顿的《自然哲学的数学原理》相媲美的巨著。1968年，《计算机程序设计艺术》(TAOCP)的第一卷正式出版了。这一卷 的标题叫《基本算法》，但难度却并不低。据说比尔&middot;盖茨曾经花了几个月的时间读完这一卷，并且做了大量的练习，然后他说，如果你想成为一个优秀的程序员， 那就去读这个《基本算法》吧。高德纳本人的说法更犀利：要是看不懂，就别当程序员。<&#47;p>
<p>　　同年，高德纳跳槽到斯坦福大学，并当上了教 授。一年后，TAOCP第二卷正式出版。1973年，这本书出到了第三卷。这三卷书被计算机界惊为&ldquo;神作&rdquo;，在最初的几年内就卖出去100多万套。按照计 划，这套书一共是七卷，但是现在刚刚写完三卷，就已是震古烁今。震到什么程度呢，连图灵奖颁奖委员都坐不住了。按照惯例，图灵奖的获奖者都是成就等身，要 经过时代的检验。但此时，美国计算机协会便决定立即为其颁发图灵奖。这对高德纳来说，无疑是个殊荣，这一年他只有36岁。至今，他仍保持着图灵奖最年轻获 奖者的纪录。<&#47;p>
<p>　　<strong>中途辍笔：圆周率充当序列号<&#47;strong> <&#47;p>
<p>　　高德纳在获此 殊荣之后，再一次令世界大跌眼镜：他宣布从此歇笔了，因为排版工具太差，破坏了这套书的美。这一动作让外界十分震惊。有人说，高德纳江郎才尽，见好就收； 有人说，图灵奖对前三卷的评价过高了，高德纳只好找理由撤了；还有人说，获奖之后停止写作，充分体现了他写书的目的就是为了功利。<&#47;p>
<p>　　可高德纳在辍笔的10年间居然创造了三个重要的成果：字体设计系统METAFONT、文学化编程(Literate Programming)，以及其中影响最大的排版系统TEX。<&#47;p>
<p>　　在Word系统中写科学论文是一件很辛苦的事，你需要调整格式，也很难表现数学式。但是在TEX中，这些麻烦几乎完全不存在，只要载入样式文件，排版就自动完成了。TEX是一场出版界的革命，直到现在仍是全球学术排版的不二规范。<&#47;p>
<p>　 　TEX作为一个软件产品，也令人叹为观止。它的版本号不是自然数列，也不是年份，而是从3开始，不断逼近圆周率(目前最新版本是3.1415926)。 高德纳再一次用行动宣告，这个东西趋近完美，不可能再有什么大的改进了。他还设立了奖金：谁发现TEX的一个错误，就付他2.56美元，第二个错误 5.12美元，第三个10.24美元&hellip;&hellip;以此类推。结果直到今天，他也没有为此付出多少钱，可见TEX经过了怎样的千锤百炼。他设置的另一个奖项是找出其 著作中错误的人能得到2.56美元，因为&ldquo;256美分刚好是十六进制的一美元&rdquo;。据说，获奖者将有他签名的支票视为珍宝，并不兑现。<&#47;p>
<p>　　<strong>回归写作：计算机王者归来<&#47;strong> <&#47;p>
<p>　　歇笔十年的高德纳，手捧这三项成果重出江湖，打消了一切质疑。这时他才对十年前的歇笔事件做了一个轻描淡写的解释：一个人要想把事情做得漂亮，就必须要跟上帝保持和谐，现在，上帝终于让我去写四卷了。<&#47;p>
<p>　 　1992年，高德纳为了专心写作，宣布提前退休，并停用电子邮箱(此人从1975年就开始玩电邮了)。高德纳一共带了28位博士生，他觉得28这个数字 很好，于是便宣布不再收学生了。尽管如此，他仍然为想要师从于他的人们留下了一个盼头：他开了一门公开课，每次会提出一个问题，如果谁能快速解出来，高德 纳就会为他的博士论文签名。不知道哪位后起之秀能够获得如此殊荣呢，我们拭目以待吧。<&#47;p>
<p>　　2008年，在TAOCP的前三卷面市30年之后，第四卷终于面世了。而高德纳自己却已是白发苍苍的古稀老人了。他对计算机科学的热爱，使他为这套丛书耗费了一生的心血。<&#47;p>
<p>　　<strong>【新知补丁】<&#47;strong> <&#47;p>
<p> <strong>　　图灵奖 Turing Award<&#47;strong> <&#47;p>
<p>　 　计算机科学界最高奖。美国计算机协会(ACM)于1966年设立，专门奖励那些对计算机事业做出重要贡献的个人。其名称取自计算机科学的先驱、英国科学 家阿兰&middot;图灵。目前图灵奖由英特尔公司以及Google公司赞助，奖金为25万美元，一般每年只奖励一名计算机科学家。<&#47;p> <&#47;div> <&#47;div>
<p> <span> <span>源地址：<a rel="nofollow">http:&#47;&#47;blog.renren.com&#47;GetEntry.do?id=452225546&amp;owner=223052476 <br &#47;> <&#47;a><&#47;span><&#47;span><&#47;p>
<p><span><span><a rel="nofollow">===========================================================================================================<&#47;a><&#47;span><&#47;span><&#47;p>
<p><a rel="nofollow" href="http:&#47;&#47;rosettacode.org&#47;wiki&#47;Man_or_boy_test"><span><span>man or boy test：<&#47;span><&#47;span><&#47;a><&#47;p><br />
<h2><i><span>Knuth's example<&#47;span><&#47;i><&#47;h2>
<div dir="ltr">
<div>
<pre><span>begin<&#47;span> <span>real<&#47;span> <span>procedure<&#47;span> A<span>(<&#47;span>k<span>,<&#47;span> x1<span>,<&#47;span> x2<span>,<&#47;span> x3<span>,<&#47;span> x4<span>,<&#47;span> x5<span>)<&#47;span>;   value k; <span>integer<&#47;span> k;   <span>begin<&#47;span> <span>real<&#47;span> <span>procedure<&#47;span> B;     <span>begin<&#47;span> k <span>:=<&#47;span> k <span>-<&#47;span> <span>1<&#47;span>;           B <span>:=<&#47;span> A <span>:=<&#47;span> A<span>(<&#47;span>k<span>,<&#47;span> B<span>,<&#47;span> x1<span>,<&#47;span> x2<span>,<&#47;span> x3<span>,<&#47;span> x4<span>)<&#47;span>;     <span>end<&#47;span>;     <span>if<&#47;span> k <<span>=<&#47;span> <span>0<&#47;span> <span>then<&#47;span> A <span>:=<&#47;span> x4 <span>+<&#47;span> x5 <span>else<&#47;span> B;   <span>end<&#47;span>;   outreal<span>(<&#47;span>A<span>(<&#47;span><span>10<&#47;span><span>,<&#47;span> <span>1<&#47;span><span>,<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>,<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>,<&#47;span> <span>1<&#47;span><span>,<&#47;span> <span>0<&#47;span><span>)<&#47;span><span>)<&#47;span>; <span>end<&#47;span>;<br &#47;><br &#47;><&#47;pre><br />
<h2><span><a title="Category:JavaS<wbr>cript"><wbr>cript" rel="nofollow" href="http:&#47;&#47;rosettacode.org&#47;wiki&#47;Category:JavaS<&#47;wbr><wbr>cript"  >JavaS<&#47;wbr><wbr>cript(easy to read)<br &#47;> <&#47;wbr><&#47;a><&#47;span><&#47;h2>
<p><i>JavaS<wbr>cript 1.8+      <&#47;wbr><&#47;i><&#47;p> <span><i>f<&#47;i>unction<&#47;span> A<span>(<&#47;span>k<span>,<&#47;span> x1<span>,<&#47;span> x2<span>,<&#47;span> x3<span>,<&#47;span> x4<span>,<&#47;span> x5<span>)<&#47;span> <span>{<&#47;span> <br &#47;> <span>function<&#47;span> B<span>(<&#47;span><span>)<&#47;span> A<span>(<&#47;span><span>--<&#47;span>k<span>,<&#47;span> B<span>,<&#47;span> x1<span>,<&#47;span> x2<span>,<&#47;span> x3<span>,<&#47;span> x4<span>)<&#47;span><span>;<&#47;span><br &#47;> <span>return<&#47;span> k <span><=<&#47;span> <span>0<&#47;span> <span>?<&#47;span> x4<span>(<&#47;span><span>)<&#47;span> <span>+<&#47;span> x5<span>(<&#47;span><span>)<&#47;span> <span>:<&#47;span> B<span>(<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span><br &#47;> &nbsp;<br &#47;> <span>function<&#47;span> K<span>(<&#47;span>n<span>)<&#47;span> <span>function<&#47;span><span>(<&#47;span><span>)<&#47;span> n<span>;<&#47;span><br &#47;> &nbsp;<br &#47;> <span>alert<&#47;span><span>(<&#47;span>A<span>(<&#47;span><span>10<&#47;span><span>,<&#47;span> K<span>(<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> K<span>(<&#47;span><span>-<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> K<span>(<&#47;span><span>-<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> K<span>(<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> K<span>(<&#47;span><span>0<&#47;span><span>)<&#47;span><span>)<&#47;span><span>)<&#47;span><span>;<&#47;span>
<pre>&nbsp;<&#47;pre> <&#47;div> <&#47;div>
<p><font color="#4f81bd"><i><span><span><a rel="nofollow">In C:<&#47;a><&#47;span><&#47;span><&#47;i><&#47;font><&#47;p>
<pre><span>&#47;* man-or-boy.c *&#47;<&#47;span><br &#47;><span>#include <stdio.h><&#47;span><br &#47;><span>#include <stdlib.h><&#47;span><br &#47;>&nbsp;<br &#47;><span>&#47;&#47; --- thunks<&#47;span><br &#47;><span>typedef<&#47;span> <span>struct<&#47;span> arg<br &#47;><span>{<&#47;span><br &#47;> <span>int<&#47;span> <span>(<&#47;span><span>*<&#47;span>fn<span>)<&#47;span><span>(<&#47;span><span>struct<&#47;span> arg<span>*<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>int<&#47;span> <span>*<&#47;span>k<span>;<&#47;span><br &#47;> <span>struct<&#47;span> arg <span>*<&#47;span>x1<span>,<&#47;span> <span>*<&#47;span>x2<span>,<&#47;span> <span>*<&#47;span>x3<span>,<&#47;span> <span>*<&#47;span>x4<span>,<&#47;span> <span>*<&#47;span>x5<span>;<&#47;span><br &#47;><span>}<&#47;span> ARG<span>;<&#47;span><br &#47;>&nbsp;<br &#47;><span>&#47;&#47; --- lambdas<&#47;span><br &#47;><span>int<&#47;span> f_1 <span>(<&#47;span>ARG<span>*<&#47;span> _<span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><br &#47;><span>int<&#47;span> f0  <span>(<&#47;span>ARG<span>*<&#47;span> _<span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>0<&#47;span><span>;<&#47;span> <span>}<&#47;span><br &#47;><span>int<&#47;span> f1  <span>(<&#47;span>ARG<span>*<&#47;span> _<span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><br &#47;>&nbsp;<br &#47;><span>&#47;&#47; --- helper<&#47;span><br &#47;><span>int<&#47;span> ev<wbr>al<span>(<&#47;span>ARG<span>*<&#47;span> a<span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> a<span>-><&#47;span>fn<span>(<&#47;span>a<span>)<&#47;span><span>;<&#47;span> <span>}<&#47;span><br &#47;><span>#define MAKE_ARG(...) (&amp;(ARG){__VA_ARGS__})<&#47;span><br &#47;><span>#define FUN(...) MAKE_ARG(B, &amp;k, __VA_ARGS__)<&#47;span><br &#47;>&nbsp;<br &#47;><span>int<&#47;span> A<span>(<&#47;span>ARG<span>*<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;>&nbsp;<br &#47;><span>&#47;&#47; --- functions<&#47;span><br &#47;><span>int<&#47;span> B<span>(<&#47;span>ARG<span>*<&#47;span> a<span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> <span>int<&#47;span> k <span>=<&#47;span> <span>*<&#47;span>a<span>-><&#47;span>k <span>-=<&#47;span> <span>1<&#47;span><span>;<&#47;span><br &#47;> <span>return<&#47;span> A<span>(<&#47;span>FUN<span>(<&#47;span>a<span>,<&#47;span> a<span>-><&#47;span>x1<span>,<&#47;span> a<span>-><&#47;span>x2<span>,<&#47;span> a<span>-><&#47;span>x3<span>,<&#47;span> a<span>-><&#47;span>x4<span>)<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;><span>}<&#47;span><br &#47;>&nbsp;<br &#47;><span>int<&#47;span> A<span>(<&#47;span>ARG<span>*<&#47;span> a<span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> <span>return<&#47;span> <span>*<&#47;span>a<span>-><&#47;span>k <span><=<&#47;span> <span>0<&#47;span> <span>?<&#47;span> ev<&#47;wbr><wbr>al<span>(<&#47;span>a<span>-><&#47;span>x4<span>)<&#47;span> <span>+<&#47;span> ev<&#47;wbr><wbr>al<span>(<&#47;span>a<span>-><&#47;span>x5<span>)<&#47;span> <span>:<&#47;span> B<span>(<&#47;span>a<span>)<&#47;span><span>;<&#47;span><br &#47;><span>}<&#47;span><br &#47;>&nbsp;<br &#47;><span>int<&#47;span> main<span>(<&#47;span><span>int<&#47;span> argc<span>,<&#47;span> <span>char<&#47;span> <span>**<&#47;span>argv<span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> <span>int<&#47;span> k <span>=<&#47;span> argc <span>==<&#47;span> <span>2<&#47;span> <span>?<&#47;span> <a rel="nofollow" href="http:&#47;&#47;www.opengroup.org&#47;onlinepubs&#47;009695399&#47;functions&#47;strtol.html"><span>strtol<&#47;span><&#47;a><span>(<&#47;span>argv<span>[<&#47;span><span>1<&#47;span><span>]<&#47;span><span>,<&#47;span> <span>0<&#47;span><span>,<&#47;span> <span>0<&#47;span><span>)<&#47;span> <span>:<&#47;span> <span>10<&#47;span><span>;<&#47;span><br &#47;> <a rel="nofollow" href="http:&#47;&#47;www.opengroup.org&#47;onlinepubs&#47;009695399&#47;functions&#47;printf.html"><span>printf<&#47;span><&#47;a><span>(<&#47;span><span>"%d<span>n<&#47;span>"<&#47;span><span>,<&#47;span> A<span>(<&#47;span>FUN<span>(<&#47;span>MAKE_ARG<span>(<&#47;span>f1<span>)<&#47;span><span>,<&#47;span> MAKE_ARG<span>(<&#47;span>f_1<span>)<&#47;span><span>,<&#47;span> MAKE_ARG<span>(<&#47;span>f_1<span>)<&#47;span><span>,<&#47;span><br &#47;>                       MAKE_ARG<span>(<&#47;span>f1<span>)<&#47;span><span>,<&#47;span> MAKE_ARG<span>(<&#47;span>f0<span>)<&#47;span><span>)<&#47;span><span>)<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>return<&#47;span> <span>0<&#47;span><span>;<&#47;span><br &#47;><span>}<br &#47;><br &#47;><&#47;span><&#47;wbr><&#47;pre>
<p><font color="#4f81bd"><i>Two gcc extensions to the C language, nested functions and block  sub-expressions, can be combined to create this elegant version:     <&#47;i><&#47;font><&#47;p>
<p><font color="#4f81bd"><i>Version: gcc version 4.1.2 20070925 (Red Hat 4.1.2-27)<&#47;i><&#47;font> <&#47;p>
<pre><span>#include <stdio.h><&#47;span><br &#47;><span>#define INT(body) ({ int lambda(){ body; }; lambda; })<&#47;span><br &#47;>main<span>(<&#47;span><span>)<&#47;span><span>{<&#47;span><br &#47;> <span>int<&#47;span> a<span>(<&#47;span><span>int<&#47;span> k<span>,<&#47;span> <span>int<&#47;span> xl<span>(<&#47;span><span>)<&#47;span><span>,<&#47;span> <span>int<&#47;span> x2<span>(<&#47;span><span>)<&#47;span><span>,<&#47;span> <span>int<&#47;span> x3<span>(<&#47;span><span>)<&#47;span><span>,<&#47;span> <span>int<&#47;span> x4<span>(<&#47;span><span>)<&#47;span><span>,<&#47;span> <span>int<&#47;span> x5<span>(<&#47;span><span>)<&#47;span><span>)<&#47;span><span>{<&#47;span><br &#47;> <span>int<&#47;span> b<span>(<&#47;span><span>)<&#47;span><span>{<&#47;span><br &#47;> <span>return<&#47;span> a<span>(<&#47;span><span>--<&#47;span>k<span>,<&#47;span> b<span>,<&#47;span> xl<span>,<&#47;span> x2<span>,<&#47;span> x3<span>,<&#47;span> x4<span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span><br &#47;> <span>return<&#47;span> k<span><=<&#47;span><span>0<&#47;span> <span>?<&#47;span> x4<span>(<&#47;span><span>)<&#47;span> <span>+<&#47;span> x5<span>(<&#47;span><span>)<&#47;span> <span>:<&#47;span> b<span>(<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span><br &#47;> <a rel="nofollow" href="http:&#47;&#47;www.opengroup.org&#47;onlinepubs&#47;009695399&#47;functions&#47;printf.html"><span>printf<&#47;span><&#47;a><span>(<&#47;span><span>"&nbsp;%d<span>n<&#47;span>"<&#47;span><span>,<&#47;span>a<span>(<&#47;span><span>10<&#47;span><span>,<&#47;span> INT<span>(<&#47;span><span>return<&#47;span> <span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> INT<span>(<&#47;span><span>return<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> INT<span>(<&#47;span><span>return<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> INT<span>(<&#47;span><span>return<&#47;span> <span>1<&#47;span><span>)<&#47;span><span>,<&#47;span> INT<span>(<&#47;span><span>return<&#47;span> <span>0<&#47;span><span>)<&#47;span><span>)<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;><span>}<br &#47;><br &#47;><&#47;span><&#47;pre><br />
<h2><span><a title="Category:PHP" rel="nofollow" href="http:&#47;&#47;rosettacode.org&#47;wiki&#47;Category:PHP">PHP<&#47;a><&#47;span><&#47;h2>
<p><i>PHP 5.3 has closures, so:   <&#47;i><&#47;p> <span><i><<&#47;i>?php<&#47;span><br &#47;> <span>function<&#47;span> A<span>(<&#47;span><span>$k<&#47;span><span>,<&#47;span><span>$x1<&#47;span><span>,<&#47;span><span>$x2<&#47;span><span>,<&#47;span><span>$x3<&#47;span><span>,<&#47;span><span>$x4<&#47;span><span>,<&#47;span><span>$x5<&#47;span><span>)<&#47;span> <span>{<&#47;span><br &#47;> <span>$b<&#47;span> <span>=<&#47;span> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>use<&#47;span> <span>(<&#47;span><span>&amp;<&#47;span><span>$b<&#47;span><span>,&amp;<&#47;span><span>$k<&#47;span><span>,<&#47;span><span>$x1<&#47;span><span>,<&#47;span><span>$x2<&#47;span><span>,<&#47;span><span>$x3<&#47;span><span>,<&#47;span><span>$x4<&#47;span><span>)<&#47;span> <span>{<&#47;span><br &#47;> <span>return<&#47;span> A<span>(<&#47;span><span>--<&#47;span><span>$k<&#47;span><span>,<&#47;span><span>$b<&#47;span><span>,<&#47;span><span>$x1<&#47;span><span>,<&#47;span><span>$x2<&#47;span><span>,<&#47;span><span>$x3<&#47;span><span>,<&#47;span><span>$x4<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span><span>;<&#47;span><br &#47;> <span>return<&#47;span> <span>$k<&#47;span> <span><=<&#47;span> <span>0<&#47;span>&nbsp;? <span>$x4<&#47;span><span>(<&#47;span><span>)<&#47;span> <span>+<&#47;span> <span>$x5<&#47;span><span>(<&#47;span><span>)<&#47;span> <span>:<&#47;span> <span>$b<&#47;span><span>(<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span> <br &#47;> &nbsp;<br &#47;> <span>echo<&#47;span> A<span>(<&#47;span><span>10<&#47;span><span>,<&#47;span> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><span>,<&#47;span><br &#47;> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><span>,<&#47;span><br &#47;> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>-<&#47;span><span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><span>,<&#47;span><br &#47;> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>1<&#47;span><span>;<&#47;span> <span>}<&#47;span><span>,<&#47;span> <br &#47;> <span>function<&#47;span> <span>(<&#47;span><span>)<&#47;span> <span>{<&#47;span> <span>return<&#47;span> <span>0<&#47;span><span>;<&#47;span> <span>}<&#47;span><span>)<&#47;span> <span>.<&#47;span> <span>"<span>n<&#47;span>"<&#47;span><span>;<&#47;span><br &#47;> <span>?><br &#47;> <br &#47;> <font color="#4f81bd"><br &#47;> <&#47;font><&#47;span>
<div><font color="#4f81bd"><b>Works with<&#47;b>: <a title="C++11" rel="nofollow" href="http:&#47;&#47;rosettacode.org&#47;wiki&#47;C%2B%2B11">C++11<&#47;a><&#47;font><&#47;div> <font color="#4f81bd"><i>uses anonymous functions. Tested with g++ version 4.5 and Visual C++ version 16 (Windows SDK 7.1):   <&#47;i><&#47;font>
<pre><span><i>#<&#47;i>include <functional><&#47;span><br &#47;><span>#include <iostream><&#47;span><br &#47;>&nbsp;<br &#47;><span>typedef<&#47;span> std<span>::<&#47;span><span>function<&#47;span><span><<&#47;span><span>int<&#47;span><span>(<&#47;span><span>)<&#47;span><span>><&#47;span> F<span>;<&#47;span><br &#47;>&nbsp;<br &#47;><span>static<&#47;span> <span>int<&#47;span> A<span>(<&#47;span><span>int<&#47;span> k, F x1, F x2, F x3, F x4, F x5<span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> F B <span>=<&#47;span> <span>[<&#47;span><span>=<&#47;span>, <span>&amp;<&#47;span>k, <span>&amp;<&#47;span>B<span>]<&#47;span><br &#47;> <span>{<&#47;span><br &#47;> <span>return<&#47;span> A<span>(<&#47;span><span>--<&#47;span>k, B, x1, x2, x3, x4<span>)<&#47;span><span>;<&#47;span><br &#47;> <span>}<&#47;span><span>;<&#47;span><br &#47;>&nbsp;<br &#47;> <span>return<&#47;span> k <span><=<&#47;span> <span>0<&#47;span> <span>?<&#47;span> x4<span>(<&#47;span><span>)<&#47;span> <span>+<&#47;span> x5<span>(<&#47;span><span>)<&#47;span> <span>:<&#47;span> B<span>(<&#47;span><span>)<&#47;span><span>;<&#47;span><br &#47;><span>}<&#47;span><br &#47;>&nbsp;<br &#47;><span>static<&#47;span> F L<span>(<&#47;span><span>int<&#47;span> n<span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> <span>return<&#47;span> <span>[<&#47;span>n<span>]<&#47;span> <span>{<&#47;span> <span>return<&#47;span> n<span>;<&#47;span> <span>}<&#47;span><span>;<&#47;span><br &#47;><span>}<&#47;span><br &#47;>&nbsp;<br &#47;><span>int<&#47;span> main<span>(<&#47;span><span>)<&#47;span><br &#47;><span>{<&#47;span><br &#47;> std<span>::<&#47;span><span>cout<&#47;span> <span><<<&#47;span> A<span>(<&#47;span><span>10<&#47;span>, L<span>(<&#47;span><span>1<&#47;span><span>)<&#47;span>, L<span>(<&#47;span><span>-<&#47;span><span>1<&#47;span><span>)<&#47;span>, L<span>(<&#47;span><span>-<&#47;span><span>1<&#47;span><span>)<&#47;span>, L<span>(<&#47;span><span>1<&#47;span><span>)<&#47;span>, L<span>(<&#47;span><span>0<&#47;span><span>)<&#47;span><span>)<&#47;span> <span><<<&#47;span> std<span>::<&#47;span><span>endl<&#47;span><span>;<&#47;span><br &#47;> <span>return<&#47;span> <span>0<&#47;span><span>;<&#47;span><br &#47;><span>}<&#47;span><&#47;pre> <br &#47;><br />
<h2><span>Explanation 在这里<a rel="nofollow" href="http:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Man_or_boy_test">http:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Man_or_boy_test<&#47;a>?<&#47;span><&#47;h2> <&#47;div><&#47;div></p>
